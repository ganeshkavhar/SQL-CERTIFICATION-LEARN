--SSUBQUERY

--SINGLE LINE SUBQUERY
SELECT FIRST_NAME,LAST_NAME
FROM EMPLOYEES
WHERE SALARY IN
( SELECT SALARY FROM EMPLOYEES WHERE SALARY>4000);

--MULTI LINE SUBQUERY
SELECT FIRST_NAME,DEPARTMENT_ID
FROM EMPLOYEES
WHERE DEPARTMENT_ID IN
(SELECT DEPARTMENT_ID FROM DEPARTMENTS
WHERE LOCATION_ID=100);

--CORELATED SUBQUERY
--IT HAVE JOINING CONDITION
SELECT EMPLOYEE_ID,SALARY,DEPARTMENT_ID
FROM EMPLOYEES E 
WHERE SALARY > 
(SELECT AVG(SALARY) FROM EMPLOYEES D
WHERE E.DEPARTMENT_ID=D.DEPARTMENT_ID);


SELECT EMPLOYEE_ID,SALARY,MANAGER_ID
FROM EMPLOYEES E 
WHERE SALARY > 
(SELECT AVG(SALARY) FROM EMPLOYEES D
WHERE E.DEPARTMENT_ID=D.DEPARTMENT_ID);


SELECT EMPLOYEE_ID,SALARY,JOB_ID
FROM EMPLOYEES E 
WHERE JOB_ID IN
(SELECT JOB_ID FROM JOBS D
WHERE E.JOB_ID=D.JOB_ID);


SELECT EMPLOYEE_ID,SALARY,EMPLOYEE_ID
FROM EMPLOYEES E 
WHERE EMPLOYEE_ID IN
(SELECT EMPLOYEE_ID FROM JOB_HISTORY D
WHERE E.DEPARTMENT_ID=D.DEPARTMENT_ID);


--MULTIPLE COLUMNS USBQUERY
SELECT first_name, job_id, department_id
FROM EMPLOYEES
WHERE (department_id) in (SELECT department_id
				  FROM employees
 				  WHERE department_id BETWEEN 90 and 80 
				  AND department_id BETWEEN 10 and 20)
ORDER BY first_name;


SELECT * 
FROM 
(SELECT salary, department_id
FROM employees
WHERE salary BETWEEN 1000 and 2000);

